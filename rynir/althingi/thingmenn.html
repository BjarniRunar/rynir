{% extends base %}
{% block header %}
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
{% endblock %}
{% block javascript %}
  function imgError(source) {
    source.src = "/static/althingi-logo.png";
    source.onerror = "";
    return true;
  }
  function updateSelection() {
    var selection = window.location.hash;
    $('.sel').css('font-weight', 'normal').each(function(index, elem) {
      if ($(elem).attr('href') == selection) {
        $(elem).css('font-weight', 'bold');
      }
    });
    if (selection.substring(1, 5) == "thm_") {
      var stafir = selection.substring(6, 20);
      $('.thm').each(function(index, elem) {
        var name = $(elem).find('.nafn').html();
        if (-1 == stafir.indexOf(name.substring(0, 1))) {
          $(elem).hide();
        } else {
          $(elem).show();
        }
      });
    } else if (selection.substring(1, 7) == 'thmfl_') {
      $('.thm').hide();
      $('.thm_fl_'+selection.substring(7, 8)).show();
    } else if (selection == '#thmallir') {
      $('.thm').show();
    }
  }
{% endblock %}
{% block css %}
  #thingmenn {width: 800px; margin: 10px auto;}
  .thm {display: inline-block; width: 240px; padding: 0; vertical-align: middle;
        font-size: 0.8em; margin: 5px;}
  .thm img {width: 80px; float: left;}
  #flokkar {text-align: center;}
  .fl {font-size: 0.8em; padding: 0 0.5em; margin: 2px 0; display: inline-block;
       border-left: 1px dotted #777; border-right: 1px dotted #777;}
{% endblock %}
{% block content %}
{% if thingmadur %}
  <div id='thingmadur'>

  </div>
{% else %}
  <div id='flokkar'>
    <a class='sel fl' href='#thm_aábcdAÁBCD'>A Á B C D</a
   ><a class='sel fl' href='#thm_eéfghEÉFGH'>E É F G H</a
   ><a class='sel fl' href='#thm_iíjklIÍJKL'>I Í J K L</a
   ><a class='sel fl' href='#thm_mnoópMNOÓP'>M N O Ó P</a
   ><a class='sel fl' href='#thm_rstuúRSTUÚ'>R S T U Ú</a
   ><a class='sel fl' href='#thm_vyýþæöVYÝÞÆÖ'>V Y Ý Þ Æ Ö</a
   ><br>
{% for flokkur in flokkar %}<a class='sel fl' href='#thmfl_{{ flokkur.stafur }}'>{{ flokkur.nafn }}
</a>{% endfor %}<br>
    <a class='sel fl' href='#thmallir'>Allir þingmenn</a>
  </div><hr>
  <div id='thingmenn'>
{% for thingmadur in thingmenn %}
    <div id='thm_{{ thingmadur.stafir }}'
         class='thm thm_fl_{{ thingmadur.flokksstafur }} stafur_{{ thingmadur.stafur }}'>
      <a href='/thingmenn/{{ thingmadur.stafir }}/'>
        <img src='{{ thingmadur.mynd }}' alt='' onError='imgError(this);'>
        <span class='nafn'>{{ thingmadur.nafn }}</span>
        (<span class='flokkur'>{{ thingmadur.flokksstafur }}</span>)
      </a>
    </div>
{% endfor %}
  </div>
{% endif %}
  <script language='javascript'>
    $('.sel').click(function() {
      setTimeout("updateSelection();", 25); return true;
    });
    updateSelection();
  </script>
{% endblock %}
